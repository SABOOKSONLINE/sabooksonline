<!DOCTYPE html>
<html lang="en">


<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="FooYes - Quality delivery or takeaway food">
    <meta name="author" content="SA Books Online">
    <title>Service Providers</title>

    <!-- Favicons-->
    <link rel="shortcut icon" href="img/favicon.png" type="image/x-icon">
  

    <!-- GOOGLE WEB FONT -->
    <link rel="dns-prefetch" href="https://fonts.gstatic.com/">
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin="anonymous">
    <link rel="preload" href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700&amp;display=swap" as="fetch" crossorigin="anonymous">
    <script type="text/javascript">
    !function(e,n,t){"use strict";var o="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700&amp;display=swap",r="__3perf_googleFonts_c2536";function c(e){(n.head||n.body).appendChild(e)}function a(){var e=n.createElement("link");e.href=o,e.rel="stylesheet",c(e)}function f(e){if(!n.getElementById(r)){var t=n.createElement("style");t.id=r,c(t)}n.getElementById(r).innerHTML=e}e.FontFace&&e.FontFace.prototype.hasOwnProperty("display")?(t[r]&&f(t[r]),fetch(o).then(function(e){return e.text()}).then(function(e){return e.replace(/@font-face {/g,"@font-face{font-display:swap;")}).then(function(e){return t[r]=e}).then(f).catch(a)):a()}(window,document,localStorage);
    </script>
	
	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-V7MRDHEHSZ"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());

	  gtag('config', 'G-V7MRDHEHSZ');
		gtag('config', 'AW-11379832900');
	</script>

    <script src=""></script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.4/css/all.css" integrity="sha384-DyZ88mC6Up2uqS4h/KRgHuoeGwBcD4Ng9SiP4dIRy0EXTlnuz47vAwmeGwVChigm" crossorigin="anonymous"/>
    
    <!-- BASE CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">

    <!-- SPECIFIC CSS -->
    <link href="css/listing.css" rel="stylesheet">
    <link href="css/leaflet.css" rel="stylesheet">

    <!-- YOUR CUSTOM CSS -->
    <link href="css/custom.css" rel="stylesheet">

     <!-- SPECIFIC CSS -->
     <link href="css/detail-page.css" rel="stylesheet">

    <style>
        html,
        body {
            height: 100%;
        }

        header {
            background-color: #fff;
        }
    </style>

</head>

<body>
				
	<?php include 'includes/header-internal.php';?>
	<!-- /header -->

    
	
	<main class="breaker">
	    <div class="container-fluid full-height">
	        <div class="row row-height">
	            <div class="content-left order-md-last order-sm-last order-last map_view">
	                
	                <!-- /page_header -->

	                 <!--  <div class="filters_full clearfix">
	                    <div class="container">
	                        <div class="sort_select">
	                            <select name="sort" id="sort">
	                                <option value="popularity" selected="selected">Sort by Top Rated</option>
	                                <option value="rating">Sort by Reccomended</option>
	                                <option value="date">Sort by Price: low to high</option>
	                                <option value="price">Sort by Up to 15% off</option>
	                                <option value="price-desc">Distance</option>
	                            </select>
	                        </div>
	                        <a href="#collapseFilters" data-bs-toggle="collapse" class="btn_filters"><i class="icon_adjust-vert"></i><span>Filters</span></a>
	                    </div>
	                </div>
	             

	                <div class="collapse filters_2" id="collapseFilters">
	                	<div class="type_delivery">
						<ul class="clearfix">
						    <li>
						        <label class="container_radio">Delivery
						            <input type="radio" name="type_d" checked="checked">
						            <span class="checkmark"></span>
						        </label>
						    </li>
						    <li>
						        <label class="container_radio">Take away
						            <input type="radio" name="type_d">
						            <span class="checkmark"></span>
						        </label>
						    </li>
						</ul>
					</div>
				
	                	<div class="filter_type">
						    <h6>Categories</h6>
						    <ul>
						        <li>
						            <label class="container_check">Pizza - Italian <small>12</small>
						                <input type="checkbox">
						                <span class="checkmark"></span>
						            </label>
						        </li>
						        <li>
						            <label class="container_check">Japanese - Sushi <small>24</small>
						                <input type="checkbox">
						                <span class="checkmark"></span>
						            </label>
						        </li>
						        <li>
						            <label class="container_check">Burghers <small>23</small>
						                <input type="checkbox">
						                <span class="checkmark"></span>
						            </label>
						        </li>
						        <li>
						            <label class="container_check">Vegetarian <small>11</small>
						                <input type="checkbox">
						                <span class="checkmark"></span>
						            </label>
						        </li>
						    </ul>
						</div>
						<div class="filter_type">
						    <h6>Distance</h6>
						    <div class="distance"> Radius around selected destination <span></span> km</div>
						    <div class="add_bottom_25"><input type="range" min="10" max="100" step="10" value="30" data-orientation="horizontal"></div>
						</div>
					</div>
					/filters -->
	                
	                <div class="row scrollable side-content pt-3">
	                    <div class="col-lg-12 col-sm-6" id="demo">

                      

	                    </div>
	                    <!-- /strip grid -->

	                </div>
	                <!-- /row -->
	                <p class="text-center"><a href="#0" class="btn_1"><strong>Load more</strong></a></p>
	            </div>

                
	            <!-- /content-left-->
	            <div class="col col-12 map-right">
                <div id="map"></div>
                <script
                src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAjMV74EvcWHUwlYrHUIiXM9VVb0LXZzho&callback=initMap&v=weekly"
                defer
                ></script>
	                <!-- map-->
	            </div>
	            <!-- /map-right-->
	        </div>
	        <!-- /row-->
            
	    </div>
	    <!-- /container-fluid -->
        
	</main>
	<!--/main-->
	
	<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
	
	<!-- COMMON SCRIPTS -->
    <script src="js/common_scripts.min.js"></script>
    <script src="js/common_func.js"></script>
    <script src="assets/validate.js"></script>

    <!-- SPECIFIC SCRIPTS -->
    <script src="js/sticky_sidebar.min.js"></script>
    <script src="js/specific_listing.js"></script>

    <!-- Map LeafLet + Mapbox-->
	<script src="js/leaflet_map/leaflet.min.js"></script>
    <script src="js/leaflet_map/leaflet_markercluster.min.js"></script>
    <script src="js/leaflet_map/leaflet_markers.js"></script>
    <script src="js/leaflet_map/leaflet_half_screen_func.js"></script>

 
<script>

    $('#main-search').keyup(function (){
        $('#side-search').val($(this).val()); // <-- reverse your selectors here
    });
    $('#side-search').keyup(function (){
        $('#main-search').val($(this).val()); // <-- and here
    });

        $('#demo').html('<div class="d-flex justify-content-center"><div class="spinner-border text-secondary"  style="width: 3rem; height: 3rem;" role="status"><span class="visually-hidden">Loading...</span></div></div>');

        $('#demo').load('includes/service-provider.php');

        $('#search').on('submit',(function(e) {

            var keywords = $("input[name='service']").val();

            alert(keywords);

            e.preventDefault();

            $('#demo').html('<div class="d-flex justify-content-center"><div class="spinner-border text-secondary"  style="width: 3rem; height: 3rem;" role="status"><span class="visually-hidden">Loading...</span></div></div>');

            $.ajax({
				url: "includes/backend/search/service-provider.php",
			type: "POST",
			data:  new FormData(this),
			contentType: false,
				cache: false,
			processData:false,
			success: function(data)
            {
                //$("#reg_load").html('Complete Registration');
                $("#demo").html(data);
                },
            error: function(){}
            });

            //$('#demo').load('includes/backend/search/service-provider.php?service='+keywords);

        }));



</script>

<script>
      /**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * SPDX-License-Identifier: Apache-2.0
       */
      // This example displays a marker at the center of Australia.
      // When the user clicks the marker, an info window opens.
      function initMap() {
        

        <?php 

            include 'includes/backend/google/user-location.php';

        ?>

        const current_location = { lat: <?php echo $latitude ?>, lng: <?php echo $longitude  ?> };
            
        <?php
            echo 'const map = new google.maps.Map(document.getElementById("map"), {
                mapId: "2f909951b58bd213",
                zoom: 13,
                center: current_location,
            });'
            
        ?>

            const image = {
            url: "https://cdn4.iconfinder.com/data/icons/web-ui-color/128/Marker-1024.png", // url
            scaledSize: new google.maps.Size(50, 50), // scaled size
            origin: new google.maps.Point(0,0), // origin
            anchor: new google.maps.Point(0, 0) // anchor
                };

                const priceTag = document.createElement("div");

                priceTag.className = "map-profile";
                priceTag.textContent = '<img src="https://cdn4.iconfinder.com/data/icons/web-ui-color/128/Marker-1024.png">';



        <?php
            //DATABASE CONNECTIONS SCRIPT
            include 'includes/database_connections/sabooks.php';
            $sql = "SELECT * FROM users WHERE ADMIN_TYPE = 'service-provider';";
            $result = mysqli_query($conn, $sql);
            if(mysqli_num_rows($result) == false){
            }else{
                while($row = mysqli_fetch_assoc($result)) {

                    $content = str_replace(' ', '_', $row['ADMIN_NAME']).$row['ADMIN_ID'].'content';
                    $window = str_replace(' ', '_', $row['ADMIN_NAME']).$row['ADMIN_ID'].'window';
					echo '
                    
                    const '.$content.' =
                    "<div><h1>'.$row['ADMIN_NAME'].'</h1></div>";
                    
                    const '.str_replace(' ', '_', $row['ADMIN_NAME']).$row['ADMIN_ID'].' = { lat: '.$row['ADMIN_LATITUDE'].', lng: '.$row['ADMIN_LONGITUDE'].'};
                    
                    const '.str_replace(' ', '_', strtolower($row['ADMIN_NAME'])).$row['ADMIN_ID'].' = new google.maps.Marker({
                        position: '.str_replace(' ', '_', $row['ADMIN_NAME']).$row['ADMIN_ID'].',
                        map,
                        title: "'.$row['ADMIN_NAME'].'",
                        icon: {
                            url: "cms-data/profile-images/'.$row['ADMIN_PROFILE_IMAGE'].'", // URL of the image
                            scaledSize: new google.maps.Size(50, 50) // Size of the image
                          }
                      });
                      
                      '.str_replace(' ', '_', strtolower($row['ADMIN_NAME'])).$row['ADMIN_ID'].'.addListener("click", () => {
                        $(".info-tab").hide();
                         $("#'.str_replace(' ', '_', strtolower($row['ADMIN_NAME'])).$row['ADMIN_ID'].'_tab").toggle(300);
                         
                      });
                      
                      const '.$window.' = new google.maps.InfoWindow({
                        content: '.$content.',
                        ariaLabel: "Uluru",
                      });
              
              
                      ';
                    }
                }
        ?>

      }

      window.initMap = initMap;


        

       
    </script>

<script>
	var countries = [ <?php
                                    //DATABASE CONNECTIONS SCRIPT
    include 'includes/database_connections/sabooks.php';
    $sql = "SELECT * FROM posts WHERE STATUS = 'active';";
    //$sql = "SELECT * FROM posts WHERE TYPE = '$name' AND CATEGORY LIKE '%$name%' OR DESCRIPTION LIKE '%$name%' ORDER BY ID DESC;";
    $result = mysqli_query($conn, $sql);
    $result = mysqli_query($conn, $sql);
        if(mysqli_num_rows($result) == false){
    }else{
        while($row = mysqli_fetch_assoc($result)) {

        echo '"'.$row["TITLE"].'",';
        }
    }
    ?> " "];
	</script>

	<script src="js/custom.js"></script>
 


</body>

</html>